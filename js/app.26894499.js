(function(t){function e(e){for(var r,s,c=e[0],o=e[1],l=e[2],d=0,f=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var o=n[c];0!==i[o]&&(r=!1)}r&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},i={app:0},a=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="./";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"033f":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"container mx-auto flex flex-col items-center p-4"},[n("div",{staticClass:"container"},[n("add-ticker",{attrs:{tickers:t.tickers},on:{addNewTicker:t.addTicker}}),n("filter-tickers",{attrs:{pageListTickers:t.pageListTickers,maxItemsFilterTicketsList:t.maxItemsFilterTicketsList,filteredTickers:t.filteredTickers},on:{changeValueFilter:t.updateFilter,changeValuePageListTickers:t.updatePageListTickers}}),n("section",[n("hr",{staticClass:"w-full border-t border-gray-600 my-4"}),t.filteredTickers.length?n("dl",{staticClass:"mt-5 grid grid-cols-1 gap-5 sm:grid-cols-3"},t._l(t.filteredTickers,(function(e){return n("div",{key:e.id,staticClass:"\n              bg-white\n              overflow-hidden\n              shadow\n              rounded-lg\n              border-purple-800 border-solid\n              cursor-pointer\n            ",class:{"border-4":t.activeItemGraph===e,"bg-red-100":!0===e.isNoValidation},on:{click:function(n){return t.changeActiveTicket(e)}}},[n("div",{staticClass:"px-4 py-5 sm:p-6 text-center"},[n("dt",{staticClass:"text-sm font-medium text-gray-500 truncate"},[t._v(" "+t._s(e.name)+" - USD ")]),n("dd",{staticClass:"mt-1 text-3xl font-semibold text-gray-900"},[t._v(" "+t._s(e.course)+" ")])]),n("div",{staticClass:"w-full border-t border-gray-200"}),n("button",{staticClass:"\n                flex\n                items-center\n                justify-center\n                font-medium\n                w-full\n                bg-gray-100\n                px-4\n                py-4\n                sm:px-6\n                text-md text-gray-500\n                hover:text-gray-600 hover:bg-gray-200 hover:opacity-20\n                transition-all\n                focus:outline-none\n              ",on:{click:function(n){return n.stopPropagation(),t.removeTicker(e.id)}}},[n("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"#718096","aria-hidden":"true"}},[n("path",{attrs:{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"}})]),t._v("Удалить ")])])})),0):n("div",[n("h3",{staticClass:"\n              text-lg\n              leading-6\n              font-medium\n              text-gray-900\n              my-8\n              text-red-500\n              font-bold\n            "},[t._v(" Nothing was found ")])]),n("hr",{staticClass:"w-full border-t border-gray-600 my-4"})]),n("graph-tickers",{attrs:{activeItemGraph:t.activeItemGraph},on:{hideGraph:t.hideGraph}})],1)])])},a=[],s=(n("4de4"),n("caad"),n("2532"),n("b0c0"),n("fb6a"),n("159b"),n("b680"),n("99af"),"wss://streamer.cryptocompare.com/v2"),c="USD",o=null,l="55034197a6c68922f370c33260b1a45d1dad97942494236b810f39dfca3fc8fb",u=new WebSocket("".concat(s,"?api_key=").concat(l));function d(t){return u.onmessage=function(e){var n=JSON.parse(e.data);if(5==n.TYPE&&n.PRICE&&("BTC"===n.FROMSYMBOL&&(o=n.PRICE),t.forEach((function(t){if(t.name===n.FROMSYMBOL&&n.PRICE)if(n.TOSYMBOL==c){var e=n.PRICE;e=e<1?e.toPrecision(2):e.toFixed(2),t.course=e,t.isNoValidation=!1}else if("BTC"==n.TOSYMBOL&&o){var r=n.PRICE*o;r=r<1?r.toPrecision(2):r.toFixed(2),t.course=r,t.isNoValidation=!1}}))),500==n.TYPE&&"INVALID_SUB"===n.MESSAGE){o||h();var r=n.PARAMETER.slice(-3),i=n.PARAMETER.slice(9,-4);t.forEach((function(t){t.name===i&&("BTC"===r?(m(t),t.course="-",t.isNoValidation=!0):(t.thereIsNoValidationToUSD=!0,p(t)))}))}},t}function f(t){var e=JSON.stringify(t);u.readyState!=WebSocket.OPEN&&u.addEventListener("open",(function(){u.send(e)})),u.readyState!==WebSocket.OPEN||u.send(e)}function h(){var t={action:"SubAdd",subs:["5~CCCAGG~BTC~".concat(c)]};f(t)}var p=function(t){var e;"BTC"===t.name&&o&&"-"!=t.course||(e=t.thereIsNoValidationToUSD?{action:"SubAdd",subs:["5~CCCAGG~".concat(t.name,"~BTC")]}:{action:"SubAdd",subs:["5~CCCAGG~".concat(t.name,"~").concat(c)]},f(e))},m=function(t){var e;e=t.thereIsNoValidationToUSD?{action:"SubRemove",subs:["5~CCCAGG~".concat(t.name,"~BTC"),"5~CCCAGG~".concat(t.name,"~").concat(c)]}:{action:"SubRemove",subs:["5~CCCAGG~".concat(t.name,"~").concat(c)]},f(e)},g=function(){u.readyState===WebSocket.OPEN&&u.close()},v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"flex"},[n("div",{staticClass:"max-w-xs"},[n("label",{staticClass:"block text-sm font-medium text-gray-700",attrs:{for:"wallet"}},[t._v("Тикер")]),n("div",{staticClass:"mt-1 relative rounded-md shadow-md"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.tickerName,expression:"tickerName"}],staticClass:"\n            block\n            w-full\n            pr-10\n            border-gray-300\n            text-gray-900\n            focus:outline-none focus:ring-gray-500 focus:border-gray-500\n            sm:text-sm\n            rounded-md\n          ",attrs:{type:"text",name:"wallet",id:"wallet",placeholder:"Например DOGE"},domProps:{value:t.tickerName},on:{keyup:[function(e){return t.hintsNamesCryptoCurrencyAdding()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addNewTicker.apply(null,arguments)}],input:function(e){e.target.composing||(t.tickerName=e.target.value)}}})]),t.tickersNameListHints.length?n("div",{staticClass:"flex p-1 rounded-md flex-wrap"},[t._l(t.tickersNameListHints,(function(e,r){return n("span",{key:r,staticClass:"\n            inline-flex\n            items-center\n            px-2\n            m-1\n            rounded-md\n            text-xs\n            font-medium\n            bg-gray-300\n            text-gray-800\n            cursor-pointer\n          ",on:{click:function(n){return t.addNewTicker(e)}}},[t._v(" "+t._s(e)+" ")])})),n("hr",{staticClass:"w-full border-t border-gray-400"})],2):t._e(),t.messageAboutPreviouslyAddedTicker?n("div",{staticClass:"text-sm text-red-600"},[t._v(" Такой тикер уже добавлен ")]):t._e()])]),n("button",{staticClass:"\n      my-4\n      inline-flex\n      items-center\n      py-2\n      px-4\n      border border-transparent\n      shadow-sm\n      text-sm\n      leading-4\n      font-medium\n      rounded-full\n      text-white\n      bg-gray-600\n      hover:bg-gray-700\n      transition-colors\n      duration-300\n      focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\n    ",attrs:{type:"button"},on:{click:t.addNewTicker}},[n("svg",{staticClass:"-ml-0.5 mr-2 h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"#ffffff"}},[n("path",{attrs:{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}})]),t._v(" Добавить ")])])},k=[],b=n("1da1"),y=n("2909"),x=(n("96cf"),n("4e82"),n("a434"),n("d3b7"),n("07ac"),{name:"addTicker",data:function(){return{tickerName:"",tickersNameListHints:[],tickersNameList:[]}},props:{tickers:{type:Array,required:!0,default:function(){return[]}}},methods:{addNewTicker:function(t){t?this.tickerName=t:t=this.tickerName,this.messageAboutPreviouslyAddedTicker||(this.$emit("addNewTicker",t),this.tickersNameListHints=[],this.tickerName=null)},hintsNamesCryptoCurrencyAdding:function(){var t=this.tickerName.toUpperCase(),e=this.tickersNameList.filter((function(e){return e.indexOf(t)>-1}));e.sort((function(t,e){return t.length-e.length})),this.tickersNameListHints=Object(y["a"])(e.splice(0,4))}},computed:{messageAboutPreviouslyAddedTicker:function(){var t=this;return!!this.tickerName&&this.tickers.some((function(e){return e.name===t.tickerName.toUpperCase()}))}},mounted:function(){var t=this;(function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://min-api.cryptocompare.com/data/all/coinlist?summary=true&api_key=693b7faab687442509f13b97369bf90104019f8db4ee9c1838a73ed3a600e133");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t.tickersNameList=Object.values(r.Data).reduce((function(t,e){return t.push(e.Symbol),t}),[]);case 7:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n})()()}}),T=x,w=n("2877"),C=Object(w["a"])(T,v,k,!1,null,null,null),L=C.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filter flex items-start"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],staticClass:"\n      filter__input\n      pr-10\n      mr-10\n      border-gray-300\n      text-gray-900\n      focus:outline-none focus:ring-gray-500 focus:border-gray-500\n      sm:text-sm\n      rounded-md\n    ",attrs:{type:"text"},domProps:{value:t.filter},on:{keyup:t.changeValueFilter,input:function(e){e.target.composing||(t.filter=e.target.value)}}}),n("div",{staticClass:"filter-btns"},[n("button",{staticClass:"\n        transition-opacity\n        duration-300\n        inline-flex\n        items-center\n        py-2\n        px-4\n        mr-3\n        border border-transparent\n        shadow-sm\n        text-sm\n        leading-4\n        font-medium\n        rounded-full\n        text-white\n        bg-gray-600\n        hover:bg-gray-700\n        transition-colors\n        duration-300\n        focus:outline-none\n        focus:ring-2\n        focus:ring-offset-2\n        focus:ring-gray-500\n      ",class:{"opacity-10":0===t.pageListTickers||0===t.filteredTickers.length},attrs:{type:"button"},on:{click:function(e){return t.changeValuePageListTickers("-")}}},[t._v(" Назад ")]),n("button",{staticClass:"\n        transition-opacity\n        duration-300\n        inline-flex\n        items-center\n        py-2\n        px-4\n        border border-transparent\n        shadow-sm\n        text-sm\n        leading-4\n        font-medium\n        rounded-full\n        text-white\n        bg-gray-600\n        hover:bg-gray-700\n        transition-colors\n        duration-300\n        focus:outline-none\n        focus:ring-2\n        focus:ring-offset-2\n        focus:ring-gray-500\n      ",class:{"opacity-10":t.pageListTickers===t.maxItemsFilterTicketsList||0===t.filteredTickers.length},attrs:{type:"button"},on:{click:function(e){return t.changeValuePageListTickers("+")}}},[t._v(" Вперед ")])])])},G=[],S=(n("a9e3"),{name:"filterTickers",data:function(){return{filter:""}},props:{pageListTickers:{type:Number,required:!0,default:0},maxItemsFilterTicketsList:{type:Number,required:!0,default:6},filteredTickers:{type:Array,required:!0,default:function(){return[]}}},methods:{changeValueFilter:function(){this.$emit("changeValueFilter",this.filter)},changeValuePageListTickers:function(t){var e="-"===t?this.valuePageListTickers-1:"+"===t?this.valuePageListTickers+1:0;this.$emit("changeValuePageListTickers",e)}},computed:{valuePageListTickers:function(){return this.pageListTickers}}}),E=S,_=(n("9647"),Object(w["a"])(E,N,G,!1,null,"252a816b",null)),O=_.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.activeItemGraph&&1!=t.activeItemGraph.isNoValidation?n("section",{staticClass:"relative"},[n("h3",{staticClass:"text-lg leading-6 font-medium text-gray-900 my-8"},[t._v(" "+t._s(t.activeItemGraph.name)+" - USD ")]),n("div",{ref:"graph",staticClass:"flex items-end border-gray-600 border-b border-l h-64"},t._l(t.normalizeGraph,(function(e,r){return n("div",{key:r,ref:"graphElement",refInFor:!0,staticClass:"bg-purple-800 border h-40",style:{height:e+"%",width:t.graphElementWidth+"px"},attrs:{graphElementWidth:""}})})),0),n("button",{staticClass:"absolute top-0 right-0",attrs:{type:"button"},on:{click:t.hideGraph}},[n("svg",{staticStyle:{"enable-background":"new 0 0 512 512"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:svgjs":"http://svgjs.com/svgjs",version:"1.1",width:"30",height:"30",x:"0",y:"0",viewBox:"0 0 511.76 511.76","xml:space":"preserve"}},[n("g",[n("path",{attrs:{d:"M436.896,74.869c-99.84-99.819-262.208-99.819-362.048,0c-99.797,99.819-99.797,262.229,0,362.048    c49.92,49.899,115.477,74.837,181.035,74.837s131.093-24.939,181.013-74.837C536.715,337.099,536.715,174.688,436.896,74.869z     M361.461,331.317c8.341,8.341,8.341,21.824,0,30.165c-4.16,4.16-9.621,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    l-75.413-75.435l-75.392,75.413c-4.181,4.16-9.643,6.251-15.083,6.251c-5.461,0-10.923-2.091-15.083-6.251    c-8.341-8.341-8.341-21.845,0-30.165l75.392-75.413l-75.413-75.413c-8.341-8.341-8.341-21.845,0-30.165    c8.32-8.341,21.824-8.341,30.165,0l75.413,75.413l75.413-75.413c8.341-8.341,21.824-8.341,30.165,0    c8.341,8.32,8.341,21.824,0,30.165l-75.413,75.413L361.461,331.317z",fill:"#718096","data-original":"#000000"}})])])])]):t._e()},I=[],M=(n("d81d"),{name:"graphTickers",data:function(){return{graph:[],graphElementWidth:36,maxGraphElement:1}},props:{activeItemGraph:{type:[Object,Boolean],required:!0,default:!1}},methods:{calculatedMaxElementGraph:function(){if(this.$refs.graph){this.maxGraphElement=Math.floor(this.$refs.graph.clientWidth/this.graphElementWidth);while(this.graph.length>this.maxGraphElement)this.graph.shift()}},hideGraph:function(){this.$emit("hideGraph",!0)}},computed:{normalizeGraph:function(){var t=Math.max.apply(Math,Object(y["a"])(this.graph)),e=Math.min.apply(Math,Object(y["a"])(this.graph));return this.graph.map((function(n){return t===e?50:50+50*(n-e)/(t-e)}))}},watch:{activeItemGraph:function(){this.graph=[],this.$nextTick((function(){this.calculatedMaxElementGraph()}))},"activeItemGraph.course":function(t){this.graph.push(t);while(this.graph.length>this.maxGraphElement)this.graph.shift()}},mounted:function(){window.addEventListener("resize",this.calculatedMaxElementGraph)},beforeDestroy:function(){window.removeEventListener("resize",this.calculatedMaxElementGraph)}}),A=M,j=Object(w["a"])(A,P,I,!1,null,null,null),V=j.exports,B={name:"App",components:{addTicker:L,filterTickers:O,graphTickers:V},data:function(){return{filter:"",activeItemGraph:!1,tickers:[],pageListTickers:0}},methods:{addTicker:function(t){if(t){var e={id:Math.random(),name:t.toUpperCase(),course:"-"};this.tickers.unshift(e),p(e)}localStorage.setItem("ListTickers",JSON.stringify(this.tickers))},removeTicker:function(t){var e,n;this.tickers=this.tickers.filter((function(e){return e.id==t&&(n=e),e.id!=t})),(null===(e=this.activeItemGraph)||void 0===e?void 0:e.id)===t&&(this.graph=[],this.activeItemGraph=null),localStorage.setItem("ListTickers",JSON.stringify(this.tickers)),m(n)},updateFilter:function(t){this.filter=t},updatePageListTickers:function(t){this.pageListTickers=t},changeActiveTicket:function(t){this.activeItemGraph=t},hideGraph:function(t){t&&(this.activeItemGraph=!1)}},computed:{maxItemsFilterTicketsList:function(){var t,e=this,n=this.tickers.filter((function(t){return t.name.includes(e.filter.toUpperCase())}));return t=n.length%6===0?n.length/6-1:Math.floor(n.length/6),t},filteredTickers:function(){var t=this,e=6*this.pageListTickers,n=6*this.pageListTickers+6,r=this.tickers.filter((function(e){return e.name.includes(t.filter.toUpperCase())}));return r.slice(e,n)}},watch:{tickers:function(t){t&&t.length&&d(this.tickers),t&&!t.length&&g()},pageListTickers:function(t){var e,n=this,r=this.tickers.filter((function(t){return t.name.includes(n.filter.toUpperCase())}));e=r.length%6===0?r.length/6-1:Math.floor(r.length/6),t<0&&(this.pageListTickers=0),t>e&&(this.pageListTickers=e),0===this.filteredTickers.length&&(this.pageListTickers=0)},filter:function(){this.pageListTickers=0}},mounted:function(){var t=this;(function(){var e=JSON.parse(localStorage.getItem("ListTickers"));e&&(e=e.reduce((function(t,e){return e.course="-",t.push(e),delete e["isNoValidation"],delete e["thereIsNoValidationToUSD"],t}),[]),e&&(t.tickers=e,e.forEach((function(t){p(t)}))))})()}},F=B,R=(n("5c0b"),Object(w["a"])(F,i,a,!1,null,null,null)),U=R.exports;n("ba8c");r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(U)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},9647:function(t,e,n){"use strict";n("033f")},"9c0c":function(t,e,n){},ba8c:function(t,e,n){}});
//# sourceMappingURL=app.26894499.js.map